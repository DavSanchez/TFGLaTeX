%\clearpage
\vspace*{\stretch{2}}
\begin{center}
\begin{minipage}{.75\textwidth}
\section*{Presupuesto}
\addcontentsline{toc}{section}{Presupuesto}

En este apartado se hace balance de los costes totales de llevar a cabo este TFG. En el presupuesto se distinguen 3 partidas fundamentales de gasto: recursos materiales, costes de ingeniería y costes en bienes fungibles.
\end{minipage}
\end{center}
\vspace{\stretch{3}}
\clearpage

\subsection*{Coste de recursos materiales}
\addcontentsline{toc}{subsection}{Coste de recursos materiales}

Aquí se detallan los gastos dedicados a los recursos materiales utilizados para desarrollar este TFG. El total de gasto en recursos materiales es de $461.68$ \euro. A continuación se detalla cada partida de gasto.

\subsubsection*{Recursos \emph{hardware}}
\addcontentsline{toc}{subsubsection}{Recursos \emph{hardware}}

Considerando una amortización lineal a 3 años de los equipos utilizados durante el tiempo de desarrollo del TFG, en la siguiente tabla se detalla el coste de cada elemento.

 \begin{table}[!ht]
     \begin{center}
     \begin{tabular}{| l  r  r |}
     \hline
     \textbf{Elemento} & \textbf{Coste total (\euro)} & \textbf{Coste imputable (\euro)} \\
     \hline
     Ordenador MacBook Pro 15'' & $1500$ & $333.3$ \\ %\hline
     Tablet Samsung Galaxy GT-P5210 & $150$ & $33.3$ \\ %\hline
     Móvil Sony Xperia L & $350$ & $77.78$ \\ %\hline
     Raspberry Pi 3 y accesorios & $89$ & $17.3$ \\ \hline
\multicolumn{1}{| r }{\textbf{Total}} & & \textbf{461,68 \euro} \\ \hline
     \end{tabular}
     \end{center}
     %\caption{Coste total del \emph{hardware}}
     \label{costeHard}
     \end{table}%
     
\subsubsection*{Recursos \emph{software}}
\addcontentsline{toc}{subsubsection}{Recursos \emph{software}}

El coste total del \emph{software} son 0\euro, debido a que se ha usado software gratuito o herramientas incluidas con los equipos \emph{hardware} en todo momento. En la siguiente tabla se detalla el \emph{software} utilizado.


\begin{table}[!ht]
\begin{center}
\begin{tabular}{| l  r  r |}
\hline
\textbf{Elemento} & \textbf{Coste total (\euro)} & \textbf{Coste imputable (\euro)} \\
\hline
VS Code (editor de código) & $0$ & $0$ \\ %\hline
Node.js & $0$ & $0$ \\ %\hline
CoovaChilli & $0$ & $0$ \\ %\hline
FreeRADIUS & $0$ & $0$ \\ %\hline
Wireshark (analizador de redes) & $0$ & $0$ \\ %\hline
Sistemas Operativos & $0$ & $0$ \\ %\hline
Navegadores web & $0$ & $0$ \\ %\hline
Paquetes ofimáticos y \LaTeX & $0$ & $0$ \\ %\hline
Otro \emph{software} & $0$ & $0$ \\ \hline
\multicolumn{1}{| r }{\textbf{Total}} & & \textbf{0 \euro} \\ \hline
\end{tabular}
\end{center}
\label{costeSoft}
\end{table}%

\subsection*{Costes de recursos humanos}
\addcontentsline{toc}{subsection}{Costes de recursos humanos}

Este TFG se ha realizado en un tiempo total de 8 meses a tiempo parcial. Durante este tiempo se han realizado las tareas de estudios previos, desarrollo, pruebas y documentación necesarias para su finalización. Para calcular los honorarios se han tomado como referencia los costes brutos de ingeniería aplicados a un empleo como ingeniero, contando junto al salario la Seguridad Social pero sin contar el IRPF. La siguiente tabla muestra estos costes desglosados.

\begin{table}[!ht] %2580.21 1.837,86
\begin{center}
\begin{tabular}{| l  l r  r |}
\hline
\textbf{Elemento} & \textbf{Meses} & \textbf{Coste mensual (\euro)} & \textbf{Coste final (\euro)} \\
\hline
Estudios previos & $2$ & $1362.38$ & $2724.76$ \\ %\hline
Desarrollo y pruebas & $5$ & $1362.38$ & $6811.90$ \\ %\hline
Documentación & $1$ & $1362.38$ & $1362.38$ \\ \hline
\multicolumn{1}{| r }{\textbf{Total}} & $8$ & & \textbf{10899,04 \euro} \\ \hline
\end{tabular}
\end{center}
\label{costeHumano}
\end{table}%

\subsection*{Costes de material fungible}
\addcontentsline{toc}{subsection}{Costes de material fungible}

El proceso de impresión, encuadernado y preparación de las tres copias de DVDs (que incluyen la imagen del sistema operativo utilizado, copias de la memoria, y la impresión de la carátula) se realizó íntegramente en una copistería, ascendiendo el coste total a $88.33$ \euro.

\subsection*{Presupuesto total}
\addcontentsline{toc}{subsection}{Presupuesto total}

En la siguiente tabla se resume el coste total del proyecto realizado.

\begin{table}[!ht]
\begin{center}
\begin{tabular}{| l r |}
\hline
\textbf{Elemento} & {Coste total} \\
\hline
Recursos materiales & $461.68$ \\ %\hline
Recursos humanos & $10899.04$ \\ %\hline
Material fungible & $88.33$ \\ %\hline
\multicolumn{1}{| r }{Coste previo a impuestos} & $11449.05$ \\ %\hline
\multicolumn{1}{| r }{7\% IGIC} & $801.44$ \\ \hline
\multicolumn{1}{| r }{\textbf{Total}} & \textbf{12250,49 \euro} \\ \hline
\end{tabular}
\end{center}
\label{costeTotal}
\end{table}%
\pagebreak
Don José David Sánchez López-Trejo declara que:

El proyecto ``Aplicación Web de sensado colaborativo para obtener acceso gratuito a redes WiFi'', desarrollado como TFG, asciende a un coste total de $12250,49$ \euro.

\indent Firmado: José David Sánchez López-Trejo \\~ \\~ \\~ \\~ \\~
\begin{flushright}
Las Palmas de Gran Canaria, a 19 de noviembre de 2017.
\end{flushright}

\cleardoublepage
\vspace*{\stretch{2}}
\begin{center}
\begin{minipage}{.75\textwidth}
\section*{Pliego de condiciones}
\addcontentsline{toc}{section}{Pliego de condiciones}

En este apartado se exponen de forma detallada las condiciones relativas a la implementación de este sistema.
\end{minipage}
\end{center}
\vspace{\stretch{3}}
\clearpage
\subsection*{Condiciones generales}
\addcontentsline{toc}{subsection}{Condiciones generales}
En este TFG se implementa un sistema de control de acceso a redes WiFi apoyado en una Aplicación Web que proporciona acceso a Internet a cambio de fragmentos cortos de audio. El sistema cuenta con las propiedades que se detallan a continuación:

\begin{itemize}
\item Un modo de conexión fija con las siguientes particularidades:
	\begin{itemize}
	\item El fragmento de audio se captura cada 3 minutos y tiene una duración de 3 segundos.
	\item Requiere mantener una pestaña del navegador abierta con la aplicación web de acceso al sistema para no perder el acceso a la red.
	\item Mientras está en uso este modo otras aplicaciones pueden no tener acceso al micrófono del dispositivo.
	\item Tres errores de cualquier tipo en la grabación o transmisión del fichero de audio desconectarán al usuario previo aviso.
	\end{itemize}
\item Un modo de conexión puntual con una duración de 30 minutos con los siguientes aspectos:
	\begin{itemize}
	\item Captura un único fragmento de audio de 3 segundos.
	\item No requiere mantener una pestaña del navegador abierta.
	\item El micrófono está disponible para uso de otras aplicaciones durante los 30 minutos de conexión.
	\item El sistema se desconecta cuando han pasado los 30 minutos sin avisar al usuario.
	\item Dado que solo ocurre una única grabación y envío del fichero generado, un solo error en estos procesos evitará que el usuario se conecte, debiendo comenzar el proceso de nuevo.
	\end{itemize}
\item Las conexiones simultáneas al sistema (es decir, las listas de usuarios) no son fijas, pudiendo variarse modificando la base de datos del servidor RADIUS y del mismo modo los ficheros de usuarios de la Aplicación Web.
\end{itemize}

Por el contrario, el sistema no realiza ni tiene en cuenta los siguientes aspectos:

\begin{itemize}
\item Procesado de ningún tipo de la señal de audio al margen de grabar, codificar y almacenar en el servidor junto a la información de ubicación.
\item Calibración y ponderación de los diversos dispositivos sensores para asegurar uniformidad en los niveles de señal.
\item Anonimizado de la señal grabada y enviada al margen de utilizar el protocolo HTTPS durante todo el proceso.

\end{itemize}

\subsection*{Condiciones \emph{hardware} y \emph{software}}
\addcontentsline{toc}{subsection}{Condiciones \emph{hardware} y \emph{software}}

Para implementar este sistema correctamente es necesario al menos:
\begin{itemize}
\item \emph{Hardware:}
\begin{itemize}
\item Una conexión a Internet contratada con enlaces cableados \emph{ethernet} disponibles.
\item Una Raspberry Pi 3 model B con una tarjeta SD de al menos 8 GB.
\item Un ordenador personal que pueda conectarse a la Raspberry Pi de forma remota por medio de la conexión a Internet disponible o un teclado, ratón y dispositivo de salida de vídeo (TV, pantalla de ordenador) que puedan conectarse a la Raspberry Pi 3 para trabajar con ella directamente (necesario inicialmente).
\end{itemize}
\item \emph{Software:}
\begin{itemize}
\item Sistema Operativo de la Raspberry Pi: Raspbian.
\item Aplicación Web: Node.js, PM2 y código de la aplicación.
\item Control de acceso a la Red: CoovaChilli, FreeRADIUS, MySQL, daloRADIUS y dependencias.
\item Editores de texto o código para modificar la configuración del sistema.
\item Navegadores web para el acceso a interfaces del sistema (como daloRADIUS).
\item Opcionalmente:
\begin{itemize}
\item Sistemas de acceso remoto como servidores \acrshort{SSH} o \acrshort{VNC} y sus respectivos clientes.
\end{itemize}
\end{itemize}
\end{itemize}

\subsection*{Compatibilidad}
\addcontentsline{toc}{subsection}{Compatibilidad}

En estos momentos las características de grabación del audio que utiliza nuestro sistema no tienen soporte en los navegadores basados en WebKit. Hasta que esta circunstancia no cambie, el sistema no podrá ser utilizado en los dispositivos iOS (iPhone, iPad) y otros dispositivos que utilicen el navegador web Safari. En este último caso es recomendable utilizar Mozilla Firefox, Google Chrome u otro navegador basado en los dos anteriores, donde el sistema funcionaría correctamente.
